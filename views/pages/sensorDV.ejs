<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>  
  window.onload = function() {
    read();
  };
  
  async function read() {
    await axios({      
      url: "/api/sensor/read", // 요청 주소
      method: "post", // 요청 방식
      data: {SENSOR_ID:'<%= SENSOR_ID %>'},
    })
    .then(function(res){
      if(res.data.result){
        MONITER(res.data.data);
      }
    });
  }

  function MONITER(contents){
    let HTML_Text = `<div class="row">`;

    HTML_Text += `<div class="col-3 col-12-xsmall">PM2.5:</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">${contents.PM25} PPM</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">H2S:</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">${contents.H2S} PPM</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">NH3:</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">${contents.NH3} PPM</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">CH2O:</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">${contents.CH2O} PPM</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">TEMP:</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">${contents.TEMP} °C</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">HUMI:</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">${contents.HUMI} %</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">VOCS:</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">${contents.VOCS} PPM</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">O3:</div>`;
    HTML_Text += `<div class="col-3 col-12-xsmall">${contents.O3} PPM</div>`;

    HTML_Text += "</div>";
    document.getElementById("moniter").innerHTML = HTML_Text;
  }

</script>

<div class="wrapper style1">
  <h2> [ <%= SENSOR_ID %> ]</h2>
  <div id="moniter"></div>
</div>